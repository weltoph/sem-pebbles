\begin{tikzpicture}
  \node[minimum size=12mm,inner sep=0mm, circle] (8) {};
  \node[node,right=of 8,label={100:$p_{0}$}] (6) {\only<20-20>{6}};
  \node[node,right=of 6] (7) {};
  \node[node,below=of 8,label={100:$p_{3}$}] (0) {0};
  \node[node,below=of 6] (1) {1};
  \node[node,below=of 7,label={$p_{1}$}] (2) {2};
  \node[node,below=of 0,label={45:$p_{2}$}] (3) {3};
  \node[node,below=of 1] (4) {4};
  \node[node,below=of 2] (5) {5};
  \node[fill=blue!50, above right=-0.1cm and -0.1cm of 0] (pstart) {$p_{\text{start}}$};

  \draw[move] (0) to (1);
  \draw[move] (1) to (2);
  \draw[move,bend left] (2.south west) to (0);
  \draw[move] (0) to (3);
  \draw[move] (3) to (4);
  \draw[move] (4) to (5);
  \draw[move] (5) to (1);
  \draw[move] (1) to (6);
  \draw[move] (6) to (7);
  \draw[dashed, move, decorate,
  decoration={snake,amplitude=0.5cm, segment length=3cm}, bend right=55]
  (7.north west) to (0);

  % placement dummies:
  \begin{scope}[on background layer]
    \node[fit=(5)] (d1) {};
  \end{scope}
  \begin{scope}[on background layer]
    \node[fit=(4)] (d2) {};
  \end{scope}
  \begin{scope}[on background layer]
    \node[fit=(3)] (d3) {};
  \end{scope}
  \begin{scope}[on background layer]
    \node[fit=(2)] (d4) {};
  \end{scope}
  \begin{scope}[on background layer]
    \node[fit=(1)] (d5) {};
  \end{scope}
  \begin{scope}[on background layer]
    \node[fit=(0)] (d6) {};
  \end{scope}

  \only<2-2>{
    \begin{scope}[on background layer]
      \node[fit=(5), fill=green!50] (s0) {};
    \end{scope}
  }
  \only<3-4>{
    \begin{scope}[on background layer]
      \node[fit=(1), fill=green!50] (s1) {};
    \end{scope}
  }
  \only<4-6>{
    \node[fill=blue!50, above right=-0.1cm and -0.1cm of 1] (ptmp1) {$p_{\text{tmp}}$};
  }
  \only<5-5>{
    \begin{scope}[on background layer]
      \node[fit=(0), fill=red!50] (s2) {};
    \end{scope}
  }
  \only<6-6>{
    \begin{scope}[on background layer]
      \node[fit=(1), fill=red!50] (s3) {};
    \end{scope}
  }
  \only<7-7>{
    \begin{scope}[on background layer]
      \node[fit=(1), fill=green!50] (s4) {};
    \end{scope}
  }
  \only<8-9>{
    \begin{scope}[on background layer]
      \node[fit=(6), fill=green!50] (s5) {};
    \end{scope}
  }
  \only<9-18>{
    \node[fill=blue!50, above right=-0.1cm and -0.1cm of 6] (ptmp2) {$p_{\text{tmp}}$};
  }
  \only<10-10>{
    \begin{scope}[on background layer]
      \node[fit=(0), fill=red!50] (s6) {};
    \end{scope}
  }
  \only<11-11>{
    \begin{scope}[on background layer]
      \node[fit=(1), fill=red!50] (s7) {};
    \end{scope}
  }
  \only<12-12>{
    \begin{scope}[on background layer]
      \node[fit=(2), fill=red!50] (s8) {};
    \end{scope}
  }
  \only<13-13>{
    \begin{scope}[on background layer]
      \node[fit=(0), fill=red!50] (s9) {};
    \end{scope}
  }
  \only<14-14>{
    \begin{scope}[on background layer]
      \node[fit=(3), fill=red!50] (s10) {};
    \end{scope}
  }
  \only<15-15>{
    \begin{scope}[on background layer]
      \node[fit=(4), fill=red!50] (s12) {};
    \end{scope}
  }
  \only<16-16>{
    \begin{scope}[on background layer]
      \node[fit=(5), fill=red!50] (s13) {};
    \end{scope}
  }
  \only<17-17>{
    \begin{scope}[on background layer]
      \node[fit=(1), fill=red!50] (s13) {};
    \end{scope}
  }
  \only<18-18>{
    \begin{scope}[on background layer]
      \node[fit=(6), fill=red!50] (s14) {};
    \end{scope}
  }
  \only<19-20>{
    \begin{scope}[on background layer]
      \node[fit=(6), fill=green!50] (s14) {};
    \end{scope}
  }
\end{tikzpicture}
